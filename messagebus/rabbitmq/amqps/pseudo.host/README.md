# NIP.IO

# Introduction

## Files generated by startiong https ('steveltn/https-portal')

```
/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/signed.crt
/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/chained.pem
/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/domain.key
/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/domain.csr
/var/lib/https/dhparam.pem
/var/lib/https/intermediate.pem
/var/lib/https/account.key
```

# rabbitmq.conf

```
[
 {ssl, [{versions, ['tlsv1.2', 'tlsv1.1']}]},
 {rabbit, [
  {ssl_listeners, [5671]},
  {ssl_options, [{cacertfile,"/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/chained.pem"},
                 {certfile,  "/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/signed.crt"},
                 {keyfile,   "/var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/domain.key"},
                 {versions, ['tlsv1.2', 'tlsv1.1']}
                ]},
  {loopback_users, []}
 ]}
].
```

# Test
```
openssl s_client -connect 12.34.56.78:5671 \
 -CAfile /var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/chained.pem \
 -cert /var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/signed.crtclient/cert.pem \
 -key /var/lib/https/rabbitmq.12.34.56.78.pseudo.host/production/domain.key
```
